<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>cascalog.logic.predmacro documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Cascalog-core 2.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="cascalog.api.html"><span>cascalog.api</span></a></li><li><a href="cascalog.cascading.conf.html"><span>cascalog.cascading.conf</span></a></li><li><a href="cascalog.cascading.flow.html"><span>cascalog.cascading.flow</span></a></li><li><a href="cascalog.cascading.io.html"><span>cascalog.cascading.io</span></a></li><li><a href="cascalog.cascading.operations.html"><span>cascalog.cascading.operations</span></a></li><li><a href="cascalog.cascading.platform.html"><span>cascalog.cascading.platform</span></a></li><li><a href="cascalog.cascading.tap.html"><span>cascalog.cascading.tap</span></a></li><li><a href="cascalog.cascading.types.html"><span>cascalog.cascading.types</span></a></li><li><a href="cascalog.cascading.util.html"><span>cascalog.cascading.util</span></a></li><li><a href="cascalog.logic.algebra.html"><span>cascalog.logic.algebra</span></a></li><li><a href="cascalog.logic.def.html"><span>cascalog.logic.def</span></a></li><li><a href="cascalog.logic.fn.html"><span>cascalog.logic.fn</span></a></li><li><a href="cascalog.logic.ops.html"><span>cascalog.logic.ops</span></a></li><li><a href="cascalog.logic.ops-impl.html"><span>cascalog.logic.ops-impl</span></a></li><li><a href="cascalog.logic.options.html"><span>cascalog.logic.options</span></a></li><li><a href="cascalog.logic.parse.html"><span>cascalog.logic.parse</span></a></li><li><a href="cascalog.logic.platform.html"><span>cascalog.logic.platform</span></a></li><li><a href="cascalog.logic.predicate.html"><span>cascalog.logic.predicate</span></a></li><li class="current"><a href="cascalog.logic.predmacro.html"><span>cascalog.logic.predmacro</span></a></li><li><a href="cascalog.logic.testing.html"><span>cascalog.logic.testing</span></a></li><li><a href="cascalog.logic.vars.html"><span>cascalog.logic.vars</span></a></li><li><a href="cascalog.logic.zip.html"><span>cascalog.logic.zip</span></a></li><li><a href="cascalog.playground.html"><span>cascalog.playground</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="cascalog.logic.predmacro.html#var-IPredMacro"><span>IPredMacro</span></a></li><li><a href="cascalog.logic.predmacro.html#var-build-predmacro"><span>build-predmacro</span></a></li><li><a href="cascalog.logic.predmacro.html#var-expand"><span>expand</span></a></li><li><a href="cascalog.logic.predmacro.html#var-predmacro"><span>predmacro</span></a></li><li><a href="cascalog.logic.predmacro.html#var-predmacro*"><span>predmacro*</span></a></li><li><a href="cascalog.logic.predmacro.html#var-predmacro%3F"><span>predmacro?</span></a></li><li><a href="cascalog.logic.predmacro.html#var-use-as-filter%3F"><span>use-as-filter?</span></a></li><li><a href="cascalog.logic.predmacro.html#var-validate-declarations%21"><span>validate-declarations!</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>cascalog.logic.predmacro documentation</h2><pre class="doc">This namespace contains functions that help to define predicate
macro instances, and compile predicate macro instances out into
sequences of RawPredicate instances.</pre><div class="public" id="var-IPredMacro"><h3>IPredMacro</h3><div class="usage"></div><pre class="doc"></pre></div><div class="public" id="var-build-predmacro"><h3>build-predmacro</h3><div class="usage"><code>(build-predmacro input-decl output-decl raw-predicates)</code></div><pre class="doc">Build a predicate macro via input and output declarations. This
function takes a sequence of declared inputs, a seq of declared
outputs and a sequence of raw predicates. Upon use, any variable
name not in the input or output declarations will be replaced with a
random Cascalog variable (uniqued by appending a suffix, so nullable
vs non-nullable will be maintained).</pre></div><div class="public" id="var-expand"><h3>expand</h3><div class="usage"><code>(expand _ input output)</code></div><pre class="doc">Returns a sequence of vectors suitable to feed into
cascalog.parse/normalize.</pre></div><div class="public" id="var-predmacro"><h3>predmacro</h3><h4 class="macro">macro</h4><div class="usage"><code>(predmacro &amp; body)</code></div><pre class="doc">A more general but more verbose way to create predicate macros.

Creates a function that takes in [invars outvars] and returns a
list of predicates. When making predicate macros this way, you must
create intermediate variables with gen-nullable-var(s). This is
because unlike the (&lt;- [?a :&gt; ?b] ...) way of doing pred macros,
Cascalog doesn't have a declaration for the inputs/outputs.

See https://github.com/nathanmarz/cascalog/wiki/Predicate-macros
</pre></div><div class="public" id="var-predmacro*"><h3>predmacro*</h3><div class="usage"><code>(predmacro* fun)</code></div><pre class="doc">Functional version of predmacro. See predmacro for details.
</pre></div><div class="public" id="var-predmacro%3F"><h3>predmacro?</h3><div class="usage"><code>(predmacro? o)</code></div><pre class="doc"></pre></div><div class="public" id="var-use-as-filter%3F"><h3>use-as-filter?</h3><div class="usage"><code>(use-as-filter? output-decl outvars)</code></div><pre class="doc">If a predicate macro had a single output variable defined and you
try to use it with no output variables, the predicate macro acts as
a filter.</pre></div><div class="public" id="var-validate-declarations%21"><h3>validate-declarations!</h3><div class="usage"><code>(validate-declarations! input-decl output-decl)</code></div><pre class="doc">Assert that the same variables aren't used on input and output when
defining a predicate macro.</pre></div></div></body></html>